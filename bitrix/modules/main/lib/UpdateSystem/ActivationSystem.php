<? namespace Bitrix\Main\UpdateSystem;$GLOBALS['____1870670482']= array(base64_decode('aXNfd3JpdGFibG'.'U='),base64_decode(''.'Zm9w'.'Z'.'W4='),base64_decode('Zndy'.'aXRl'),base64_decode('ZmNsb3'.'Nl'),base64_decode('aW50dmFs'),base64_decode('a'.'W50'.'dmFs'),base64_decode(''.'aXNf'.'d3JpdGFibGU='),base64_decode('Z'.'m9wZ'.'W4='),base64_decode('Zn'.'B1dHM='),base64_decode('ZmNsb'.'3Nl'));if(!function_exists(__NAMESPACE__.'\\___1377698849')){function ___1377698849($_985593751){static $_114909364= false; if($_114909364 == false) $_114909364=array('R'.'V'.'JST1I=','RVJST1I=','X1ZBTFVF','V'.'W5rbm93biBlcnJ'.'vcg==','IFtBU1IwMV0=','UkVOV'.'A==','Tm90'.'I'.'GZvdW'.'5kIGxpY'.'2V'.'uc2UgaW5mbyB'.'bQ'.'VNS'.'M'.'DJd',''.'VjE=','VjI=','U2V'.'yd'.'m'.'VyIHJlc3BvbnN'.'l'.'IGl'.'zI'.'G'.'5vdCB'.'yZWNv'.'Z'.'25p'.'e'.'m'.'VkIFtBU'.'0FMSTAxXQ==',''.'b'.'W'.'Fpbg'.'==','flNBQVNfT'.'U9ERQ==','W'.'Q==','bWFpbg'.'==','YW'.'R'.'taW'.'5'.'fcGF'.'zc3dvcmR'.'o','RE9DV'.'U1FTlR'.'f'.'Uk9PV'.'A==','L2J'.'pd'.'HJpeC9tb2'.'R1bGV'.'zL21haW4'.'vYW'.'RtaW4=','R'.'E9D'.'V'.'U1FTlRfUk9P'.'VA'.'==','L2JpdHJpeC9t'.'b2R'.'1'.'bGVzL21haW4v'.'YWRt'.'aW4vZG'.'Vm'.'aW5l'.'L'.'nBocA==',''.'dw==','P'.'A==','P0'.'Rl'.'ZmluZSg'.'iVEVNU'.'E9'.'SQVJZX0NB'.'Q0hF'.'Iiw'.'gIg==','I'.'ik7Pw==','P'.'g==','RmlsZSBvcGVuIG'.'ZhaWxzIF'.'tBU0'.'FMST'.'A'.'yXQ==','R'.'m'.'9sZGVyIGlz'.'I'.'G'.'5v'.'dCB3cml0'.'YWJsZSBbQVN'.'BTEkw'.'M10=',''.'RE'.'FURV9U'.'T'.'19'.'TT1V'.'SQ0U=','bWF'.'pbg==',''.'fnN1c'.'HBvcnR'.'fZmlu'.'aX'.'NoX2RhdGU=','R'.'EFURV9UT19TT1V'.'SQ0U=','TUFYX'.'1'.'N'.'JVEVT','bWF'.'pbg'.'==','UEFSQ'.'U1fT'.'UFYX1NJ'.'V'.'EVT',''.'TUF'.'YX'.'1NJ'.'VEVT','TUFYX1VTR'.'VJT','b'.'W'.'F'.'pbg'.'==','U'.'EFS'.'QU1fTUFYX1'.'VTRVJT','T'.'UFY'.'X1VT'.'RVJ'.'T','TUFYX1'.'VTRVJ'.'TX1NUU'.'klORw='.'=',''.'b'.'WFpb'.'g='.'=','flBB'.'UkFN'.'X'.'01BWF9'.'VU0VSUw==','TU'.'FYX1'.'VTRVJTX1'.'NUU'.'klORw==','REFURV9U'.'T19T'.'T1V'.'SQ0VfU1RSSU5H','bWFpb'.'g==',''.'f'.'lBBUkFNX0ZJTklTSF9EQVRF','REFUR'.'V9UT19'.'TT1'.'VSQ0V'.'fU1R'.'SSU'.'5H','SVNMQw'.'='.'=',''.'RE9DV'.'U1FTlR'.'fUk9'.'P'.'V'.'A='.'=','L2'.'Jp'.'dHJpe'.'A==',''.'RE9D'.'V'.'U1F'.'TlRfUk'.'9'.'PVA==',''.'L2JpdHJ'.'peC9saWNlb'.'nN'.'lX2t'.'leS5waHA=','d2'.'I=','PA==','PyRMSUNF'.'TlNFX0tFWSA9IC'.'I=',''.'Ijs/','Pg'.'==','Rml'.'sZSBv'.'cG'.'VuIGZhaWxzI'.'FtB'.'U0FMSTA'.'0XQ==','Rm9sZGVyIGlzIG5vdC'.'B'.'3cml0YWJsZSB'.'bQVNBTEk'.'wNV0=','Tm90IGZvdW5'.'kIGxpY2Vuc2UgaW5mb'.'yBbQVN'.'BSDAxX'.'Q==',''.'c'.'mVzd'.'Wx0','cmVzdWx0','Z'.'X'.'Jyb3I=','bWVzc2'.'FnZQ'.'='.'=','RXJyb'.'3Igc2VuZCBwYXJ0'.'bmVyI'.'GluZm'.'8'.'gW0FT'.'U0lUUDAx'.'XQ='.'=','c'.'mV'.'zcG9'.'uc2'.'U'.'=',''.'cmVxdWVzdA='.'=','ZXJ'.'yb3I=','VW5rbm93biBl'.'cnJvcg'.'='.'=','I'.'F'.'t'.'BU1N'.'JVFAwMV0=');return base64_decode($_114909364[$_985593751]);}}; use Bitrix\Main\Application; use Bitrix\Main\Result; use Bitrix\Main\Security\SecurityException; use Bitrix\Main\SystemException; use Bitrix\Main\Web\Json; class ActivationSystem{  public function reincarnate(Coupon $_684066264): Result{  $_1446668909= new ReincarnationRequestBuilder($_684066264); $_273795836=(new RequestFactory($_1446668909))->build();  $_724801527= $_273795836->send();  $_2122522565= new UpdateServerDataParser($_724801527); $_696147778= $_2122522565->parse(); if(isset($_696147778[___1377698849(0)])){ throw new SystemException(($_696147778[___1377698849(1)][___1377698849(2)] ?? ___1377698849(3)).___1377698849(4));} $_696147778= $_696147778[___1377698849(5)] ??[]; if(empty($_696147778)){ throw new SystemException(___1377698849(6));} $this->applyLicenseInfo($_696147778, $_684066264->getKey()); $_810275300= new Result(); return $_810275300->setData($_696147778);}  protected function applyLicenseInfo(array $_696147778, string $_1644351375): void{ $_254270455= $_696147778[___1377698849(7)]; $_2005192272= $_696147778[___1377698849(8)]; if(empty($_254270455) || empty($_2005192272)){ throw new SystemException(___1377698849(9));} \COption::SetOptionString(___1377698849(10), ___1377698849(11), ___1377698849(12)); \COption::SetOptionString(___1377698849(13), ___1377698849(14), $_254270455); if($GLOBALS['____1870670482'][0]($_SERVER[___1377698849(15)].___1377698849(16))){ if($_1959074521= $GLOBALS['____1870670482'][1]($_SERVER[___1377698849(17)].___1377698849(18), ___1377698849(19))){ $GLOBALS['____1870670482'][2]($_1959074521, ___1377698849(20).___1377698849(21).$_2005192272.___1377698849(22).___1377698849(23)); $GLOBALS['____1870670482'][3]($_1959074521);} else{ throw new SystemException(___1377698849(24));}} else{ throw new SystemException(___1377698849(25));} if(isset($_696147778[___1377698849(26)])){ \COption::SetOptionString(___1377698849(27), ___1377698849(28), $_696147778[___1377698849(29)]);} if(isset($_696147778[___1377698849(30)])){ \COption::SetOptionString(___1377698849(31), ___1377698849(32), $GLOBALS['____1870670482'][4]($_696147778[___1377698849(33)]));} if(isset($_696147778[___1377698849(34)])){ \COption::SetOptionString(___1377698849(35), ___1377698849(36), $GLOBALS['____1870670482'][5]($_696147778[___1377698849(37)]));} if(isset($_696147778[___1377698849(38)])){ \COption::SetOptionString(___1377698849(39), ___1377698849(40), $_696147778[___1377698849(41)]);} if(isset($_696147778[___1377698849(42)])){ \COption::SetOptionString(___1377698849(43), ___1377698849(44), $_696147778[___1377698849(45)]);} if(isset($_696147778[___1377698849(46)])){ if($GLOBALS['____1870670482'][6]($_SERVER[___1377698849(47)].___1377698849(48))){ if($_1959074521= $GLOBALS['____1870670482'][7]($_SERVER[___1377698849(49)].___1377698849(50), ___1377698849(51))){ $GLOBALS['____1870670482'][8]($_1959074521, ___1377698849(52).___1377698849(53).EscapePHPString($_1644351375).___1377698849(54).___1377698849(55)); $GLOBALS['____1870670482'][9]($_1959074521);} else{ throw new SystemException(___1377698849(56));}} else{ throw new SystemException(___1377698849(57));}}}  public function activateByHash(string $_622278862): Result{ $_2122522565= new HashCodeParser($_622278862); $_696147778= $_2122522565->parse(); if(empty($_696147778)){ throw new SystemException(___1377698849(58));} $_1644351375= Application::getInstance()->getLicense()->getKey(); $this->applyLicenseInfo($_696147778, $_1644351375); $_810275300= new Result(); return $_810275300->setData($_696147778);}  public function sendInfoToPartner(string $_114269086, string $_755930548, string $_368141127): Result{ $_1446668909= new PartnerInfoRequestBuilder($_114269086, $_755930548, $_368141127); $_273795836=(new RequestFactory($_1446668909))->build();  $_724801527= $_273795836->send(); $_724801527= Json::decode($_724801527); if(!isset($_724801527[___1377698849(59)]) || $_724801527[___1377698849(60)] === ___1377698849(61)){ $_1892389323=[ ___1377698849(62) => ___1377698849(63), ___1377698849(64) => $_724801527, ___1377698849(65) => $_273795836]; throw new SystemException(($_724801527[___1377698849(66)] ?? ___1377698849(67)).___1377698849(68));} return(new Result())->setData($_724801527);}}?>