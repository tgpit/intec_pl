{"version":3,"file":"script.js","sources":["../../../plugin/skeleton.js","../../../plugin/utils.js","src/index.js"],"sourcesContent":["import {compileTemplate} from \"./utils\";\r\n\r\n// noinspection JSUnresolvedVariable\r\nconst $ = window.AvitoJQuery ?? window.$;\r\n\r\nexport class Skeleton {\r\n\r\n\tstatic defaults = {\r\n\t\tlang: {},\r\n\t\tlangPrefix: null\r\n\t};\r\n\r\n\tconstructor(element: HTMLElement, options: Object = {}) {\r\n\t\tthis.$el = $(element);\r\n\t\tthis.el = this.$el[0];\r\n\t\tthis.options = Object.assign({}, this.constructor.defaults, this.$el.data(), options);\r\n\t}\r\n\r\n\tdestroy() {\r\n\t\tthis.el = null;\r\n\t}\r\n\t\r\n\tgetElement(key, context, method) : JQuery {\r\n\t\tconst selector = this.getElementSelector(key);\r\n\t\r\n\t\treturn this.getNode(selector, context, method || 'find');\r\n\t}\r\n\t\r\n\tgetElementSelector(key: string) : string {\r\n\t\tconst optionKey = key + 'Element';\r\n\t\r\n\t\treturn this.options[optionKey];\r\n\t}\r\n\t\r\n\tgetTemplate(key: string) : string {\r\n\t\tconst optionKey = key + 'Template';\r\n\t\tconst option = this.options[optionKey];\r\n\t\tconst optionFirstSymbol = option.substring(0, 1);\r\n\t\tlet result;\r\n\t\r\n\t\tif (optionFirstSymbol === '.' || optionFirstSymbol === '#') {\r\n\t\t\tresult = this.getNode(option).html();\r\n\t\t} else {\r\n\t\t\tresult = option;\r\n\t\t}\r\n\t\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tgetNode(selector, context, method = 'find') : JQuery {\r\n\t\tif (selector.substring(0, 1) === '#') { // is id query\r\n\t\t\tcontext = $(document);\r\n\t\t} else if (!context) {\r\n\t\t\tcontext = this.$el;\r\n\t\t}\r\n\t\r\n\t\treturn context[method](selector);\r\n\t}\r\n\t\r\n\tgetLang(key, replaces) : string {\r\n\t\tlet langKey;\r\n\t\tlet result;\r\n\t\r\n\t\tif (this.options.lang != null && key in this.options.lang) {\r\n\t\t\tresult = this.options.lang[key];\r\n\t\t} else {\r\n\t\t\tlangKey = this.options.langPrefix + key;\r\n\t\t\tresult = BX.message(langKey) || '';\r\n\t\t}\r\n\t\r\n\t\tif (result && replaces) {\r\n\t\t\tresult = compileTemplate(result, replaces);\r\n\t\t}\r\n\t\r\n\t\treturn result;\r\n\t}\r\n}\r\n","// @flow\r\n\r\nexport function compileTemplate(template: string, replaces: Object) {\r\n\tlet result = template;\r\n\r\n\tfor (const key in replaces) {\r\n\t\tif (!replaces.hasOwnProperty(key)) { continue; }\r\n\r\n\t\tconst replaceKey = '#' + key + '#';\r\n\t\tconst replaceValue = replaces[key];\r\n\r\n\t\tdo {\r\n\t\t\tresult = result.replace(replaceKey, replaceValue);\r\n\t\t} while (result.indexOf(replaceKey) !== -1);\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n\r\nexport function htmlToElement(html, tag = 'div') {\r\n\tconst renderer = document.createElement(tag);\r\n\r\n\trenderer.innerHTML = html;\r\n\r\n\treturn renderer.firstElementChild;\r\n}","// @flow\r\n\r\nimport {Skeleton} from \"../../../../plugin/skeleton\";\r\n\r\n// noinspection JSUnresolvedVariable\r\nconst $ = window.AvitoJQuery ?? window.$;\r\n\r\n// noinspection JSUnusedGlobalSymbols\r\nexport class Dependfield extends Skeleton {\r\n\r\n\tstatic defaults = {\r\n\t\tdepend: null,\r\n\t\theadingElement: '.heading',\r\n\t\tformElement: 'form',\r\n\t\tinputElement: 'input, select, textarea',\r\n\t\tsiblingElement: 'tr',\r\n\t\tdescriptionElement: '.avito-group-description, .avito-field-intro, .avito-field-additional',\r\n\t\ttabContentElement: '.adm-detail-content',\r\n\t\tlang: {}\r\n\t}\r\n\r\n\tconstructor(element: HTMLElement, options: Object = {}) {\r\n\t\tsuper(element, options);\r\n\t\tthis.bind();\r\n\t}\r\n\r\n\tdestroy() : void {\r\n\t\tthis.unbind();\r\n\t\tsuper.destroy();\r\n\t}\r\n\r\n\tbind() : void {\r\n\t\tthis.handleDependChange(true);\r\n\t}\r\n\r\n\tunbind() : void {\r\n\t\tthis.handleDependChange(false);\r\n\t}\r\n\r\n\thandleDependChange(dir: boolean) : void {\r\n\t\tconst fields = this.getDependElements();\r\n\r\n\t\tfields[dir ? 'on' : 'off']('change', this.onDependChange);\r\n\t}\r\n\r\n\tonDependChange = () : void => {\r\n\t\tthis.updateField();\r\n\t}\r\n\r\n\tupdateField() : void {\r\n\t\tconst isMatch = this.resolveDependRules();\r\n\r\n\t\tif (this.alreadyView(isMatch)) { return; }\r\n\r\n\t\tthis.toggleView(isMatch);\r\n\t\tthis.toggleHeaderView(isMatch);\r\n\t\tthis.toggleTab(isMatch);\r\n\t\tthis.fireChange();\r\n\t}\r\n\r\n\tresolveDependRules() : boolean {\r\n\t\tconst rules = this.options.depend;\r\n\t\tlet rule,\r\n\t\t\tfields = this.getDependFields(),\r\n\t\t\tfieldKey,\r\n\t\t\tfield,\r\n\t\t\tfieldValue,\r\n\t\t\tisDependAny = this.isDependAny(),\r\n\t\t\tresult = !isDependAny;\r\n\r\n\t\tfor (fieldKey in fields) {\r\n\t\t\tif (!fields.hasOwnProperty(fieldKey)) { continue; }\r\n\r\n\t\t\tfield = fields[fieldKey];\r\n\t\t\tfieldValue = this.getFieldValue(field, fieldKey);\r\n\t\t\trule = rules[fieldKey];\r\n\r\n\t\t\tif (this.isMatchRule(rule, fieldValue) === isDependAny) {\r\n\t\t\t\tresult = isDependAny;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tgetFieldValue(field, name) {\r\n\t\tlet result;\r\n\r\n\t\tif (this.isHiddenField(field)) { return null; }\r\n\r\n\t\tswitch (this.getFieldType(field, name))\r\n\t\t{\r\n\t\t\tcase 'complex':\r\n\t\t\t\tresult = this.getComplexValue(field, name);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'hidden':\r\n\t\t\t\tif (field.length > 1) { // is checkbox sibling\r\n\t\t\t\t\tresult = this.getFieldValue(field.slice(1));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult = field.val();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'checkbox':\r\n\t\t\t\tresult = [];\r\n\t\t\t\tfield.each(function() { if (this.checked) { result.push(this.value); } });\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'radio':\r\n\t\t\t\tfield.each(function() { if (this.checked) { result = this.value; } });\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tresult = field.val();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tisHiddenField(field) : boolean {\r\n\t\tconst row = this.getElement('sibling', field, 'closest');\r\n\t\treturn row.hasClass('is--hidden');\r\n\t}\r\n\r\n\tgetFieldType(field, name) : string {\r\n\t\tconst selfName = field.data('name');\r\n\t\tlet result = (field.prop('tagName') || '').toLowerCase();\r\n\r\n\t\tif (result === 'input') {\r\n\t\t\tresult = (field.prop('type') || '').toLowerCase();\r\n\t\t}\r\n\r\n\t\tif (selfName != null && selfName !== name && selfName.indexOf('[' + name + ']') === 0) {\r\n\t\t\tresult = 'complex';\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tgetComplexValue(field, baseName) {\r\n\t\tlet childIndex,\r\n\t\t\tchild,\r\n\t\t\tchildFullName,\r\n\t\t\tchildName,\r\n\t\t\tnameStart = '[' + baseName + ']',\r\n\t\t\tresult = {};\r\n\r\n\t\tfor (childIndex = 0; childIndex < field.length; childIndex++) {\r\n\t\t\tchild = field.eq(childIndex);\r\n\t\t\tchildFullName = child.data('name');\r\n\r\n\t\t\tif (childFullName == null || childFullName.indexOf(nameStart) !== 0) { continue; }\r\n\r\n\t\t\tchildName = childFullName.substring(nameStart.length);\r\n\t\t\tresult[childName] = this.getFieldValue(child, childFullName);\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tisMatchRule(rule, value) : boolean {\r\n\t\tlet isEmpty,\r\n\t\t\tresult = true;\r\n\r\n\t\tswitch (rule['RULE']) {\r\n\t\t\tcase 'EMPTY':\r\n\t\t\t\tisEmpty = this.testIsEmpty(value);\r\n\t\t\t\tresult = (isEmpty === rule['VALUE']);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ANY':\r\n\t\t\t\tresult = this.applyRuleAny(rule['VALUE'], value);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'EXCLUDE':\r\n\t\t\t\tresult = !this.applyRuleAny(rule['VALUE'], value);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\ttestIsEmpty(value) : boolean {\r\n\t\tlet result = true;\r\n\r\n\t\tif (Array.isArray(value)) {\r\n\t\t\tfor (const one of value) {\r\n\t\t\t\tif (!this.testIsEmpty(one)) {\r\n\t\t\t\t\tresult = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if ($.isPlainObject(value)) {\r\n\t\t\tfor (const key in value) {\r\n\t\t\t\tif (!value.hasOwnProperty(key)) { continue; }\r\n\r\n\t\t\t\tif (!this.testIsEmpty(value[key])) {\r\n\t\t\t\t\tresult = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tresult = (!value || value === '0');\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tapplyRuleAny(ruleValue, formValue) : boolean {\r\n\t\tconst isRuleMultiple = Array.isArray(ruleValue);\r\n\t\tconst isFormMultiple = Array.isArray(formValue);\r\n\t\tlet formIndex,\r\n\t\t\tformItem,\r\n\t\t\tresult = false;\r\n\r\n\t\tif (isFormMultiple && isRuleMultiple) {\r\n\t\t\tfor (formIndex = formValue.length - 1; formIndex >= 0; --formIndex) {\r\n\t\t\t\tformItem = formValue[formIndex];\r\n\r\n\t\t\t\tif (this.testInArray(formItem, ruleValue)) {\r\n\t\t\t\t\tresult = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (isFormMultiple) {\r\n\t\t\tresult = this.testInArray(ruleValue, formValue);\r\n\t\t} else if (isRuleMultiple) {\r\n\t\t\tresult = this.testInArray(formValue, ruleValue);\r\n\t\t} else {\r\n\t\t\t// noinspection EqualityComparisonWithCoercionJS\r\n\t\t\tresult = (formValue == ruleValue);\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\ttestInArray(needle, haystack) : boolean {\r\n\t\tlet result = false;\r\n\r\n\t\tfor (let i = haystack.length - 1; i >= 0; i--) {\r\n\t\t\t// noinspection EqualityComparisonWithCoercionJS\r\n\t\t\tif (haystack[i] == needle) {\r\n\t\t\t\tresult = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tisDependAny() : boolean {\r\n\t\treturn this.options.depend['LOGIC'] === 'OR';\r\n\t}\r\n\r\n\talreadyView(isMatch: boolean) : boolean {\r\n\t\treturn this.$el.hasClass('is--hidden') === !isMatch;\r\n\t}\r\n\r\n\ttoggleView(isMatch: boolean) : void {\r\n\t\tthis.$el.toggleClass('is--hidden', !isMatch);\r\n\t\tthis.getElement('description', this.$el, 'next').toggleClass('is--hidden', !isMatch);\r\n\t}\r\n\r\n\ttoggleHeaderView(isMatch: boolean) : void {\r\n\t\tconst heading = this.getHeading();\r\n\r\n\t\tif (isMatch) {\r\n\t\t\theading.removeClass('is--hidden');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (heading.hasClass('is--hidden')) { return; }\r\n\r\n\t\tconst siblingRows = this.getSiblingsUnderHeading(heading).not(this.getElementSelector('description'));\r\n\t\tconst hasVisibleSiblings = (siblingRows.not('.is--hidden').length > 0);\r\n\r\n\t\theading.toggleClass('is--hidden', !hasVisibleSiblings);\r\n\t\tthis.getElement('description', heading, 'next').toggleClass('is--hidden', !hasVisibleSiblings);\r\n\t}\r\n\r\n\tgetHeading() : JQuery {\r\n\t\tconst heading = this.getElement('heading', this.$el, 'prevAll');\r\n\r\n\t\treturn heading.first();\r\n\t}\r\n\r\n\tgetSiblingsUnderHeading(heading : JQuery) : JQuery {\r\n\t\tconst headerSelector = this.getElementSelector('heading');\r\n\t\tconst fieldSelector = this.getElementSelector('sibling');\r\n\t\tlet sibling = heading,\r\n\t\t\tresult = $();\r\n\r\n\t\tdo {\r\n\t\t\tsibling = sibling.next();\r\n\r\n\t\t\tif (sibling.is(headerSelector)) { break; }\r\n\r\n\t\t\tif (sibling.is(fieldSelector)) {\r\n\t\t\t\tresult = result.add(sibling);\r\n\t\t\t}\r\n\t\t} while (sibling.length !== 0);\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\ttoggleTab(isMatch: boolean) : void {\r\n\t\tconst tabContent = this.getElement('tabContent', this.$el, 'closest');\r\n\t\tconst tabButton = this.tabButton(tabContent);\r\n\r\n\t\tif (tabButton == null) { return; }\r\n\r\n\t\tif (isMatch) {\r\n\t\t\ttabButton.removeClass('is--hidden');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (tabButton.hasClass('is--hidden')) { return; }\r\n\r\n\t\tconst siblings = this.getElement('sibling', this.$el, 'siblings');\r\n\t\tconst hasVisibleSiblings = (siblings.not('.is--hidden').length > 0);\r\n\r\n\t\ttabButton.toggleClass('is--hidden', !hasVisibleSiblings);\r\n\t}\r\n\r\n\ttabButton(tabContent: JQuery) : ?JQuery {\r\n\t\tconst id = tabContent.attr('id');\r\n\r\n\t\tif (id == null) { return null; }\r\n\r\n\t\treturn $(`#tab_cont_${id}`);\r\n\t}\r\n\r\n\tfireChange() : void {\r\n\t\tconst input = this.getElement('input');\r\n\t\tinput.trigger('change');\r\n\t}\r\n\r\n\tgetDependElements() : JQuery {\r\n\t\tconst fields = this.getDependFields();\r\n\r\n\t\tlet fieldKey,\r\n\t\t\tfield,\r\n\t\t\tresult = $();\r\n\r\n\t\tfor (fieldKey in fields) {\r\n\t\t\tif (!fields.hasOwnProperty(fieldKey)) { continue; }\r\n\r\n\t\t\tfield = fields[fieldKey];\r\n\t\t\tresult = result.add(field);\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tgetDependFields() : Array {\r\n\t\tlet keys = Object.keys(this.options.depend),\r\n\t\t\tkeyIndex,\r\n\t\t\tkey,\r\n\t\t\tfield,\r\n\t\t\tfields = {};\r\n\r\n\t\tfor (keyIndex = 0; keyIndex < keys.length; keyIndex++) {\r\n\t\t\tkey = keys[keyIndex];\r\n\r\n\t\t\tif (key === 'LOGIC') { continue; }\r\n\r\n\t\t\tfield = this.getField(key);\r\n\r\n\t\t\tif (field) {\r\n\t\t\t\tfields[key] = field;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn fields;\r\n\t}\r\n\r\n\tgetField(selector: string) : JQuery {\r\n\t\tlet result;\r\n\r\n\t\tif (selector.substring(0, 1) === '#') {\r\n\t\t\tresult = $(selector);\r\n\t\t} else {\r\n\t\t\tresult = this.getFormField(selector);\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tgetFormField(name: string) : JQuery {\r\n\t\tconst form = this.getElement('form', this.$el, 'closest');\r\n\t\tconst isForm = form.is('form');\r\n\t\tconst nameMultiple = name + '[]';\r\n\r\n\t\tlet variants,\r\n\t\t\tvariantIndex,\r\n\t\t\tvariant,\r\n\t\t\tresult;\r\n\r\n\t\tif (isForm && form[0][name] != null) {\r\n\t\t\tresult = $(form[0][name]);\r\n\t\t} else if (isForm && form[0][nameMultiple] != null) {\r\n\t\t\tresult = $(form[0][nameMultiple]);\r\n\t\t} else {\r\n\t\t\tvariants = [\r\n\t\t\t\t'[data-name=\"' + name + '\"]',\r\n\t\t\t\t'[data-name^=\"[' + name + ']\"]',\r\n\t\t\t];\r\n\r\n\t\t\tfor (variantIndex = 0; variantIndex < variants.length; variantIndex++) {\r\n\t\t\t\tvariant = variants[variantIndex];\r\n\t\t\t\tresult = form.find(variant);\r\n\r\n\t\t\t\tif (result.length > 0) { break; }\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n}"],"names":["$","window","AvitoJQuery","Skeleton","constructor","element","options","$el","el","this","Object","assign","defaults","data","destroy","getElement","key","context","method","selector","getElementSelector","getNode","optionKey","getTemplate","option","optionFirstSymbol","substring","result","html","document","getLang","replaces","langKey","lang","langPrefix","BX","message","template","hasOwnProperty","replaceKey","replaceValue","replace","indexOf","compileTemplate","Dependfield","onDependChange","updateField","bind","unbind","handleDependChange","dir","getDependElements","isMatch","resolveDependRules","alreadyView","toggleView","toggleHeaderView","toggleTab","fireChange","rules","depend","rule","fieldKey","field","fieldValue","fields","getDependFields","isDependAny","getFieldValue","isMatchRule","name","isHiddenField","getFieldType","getComplexValue","length","slice","val","each","checked","push","value","hasClass","selfName","prop","toLowerCase","baseName","childIndex","child","childFullName","childName","nameStart","eq","isEmpty","testIsEmpty","applyRuleAny","Array","isArray","one","isPlainObject","ruleValue","formValue","isRuleMultiple","isFormMultiple","formIndex","formItem","testInArray","needle","haystack","i","toggleClass","heading","getHeading","removeClass","hasVisibleSiblings","getSiblingsUnderHeading","not","first","headerSelector","fieldSelector","sibling","next","is","add","tabContent","tabButton","id","attr","trigger","keyIndex","keys","getField","getFormField","form","isForm","nameMultiple","variants","variantIndex","variant","find","headingElement","formElement","inputElement","siblingElement","descriptionElement","tabContentElement"],"mappings":"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"}